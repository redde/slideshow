/*! Slideshow - v0.1.0 - 2013-05-24
* https://github.com/konstantingorozankin/slideshow
* Copyright (c) 2013 Konstantin Gorozhankin; Licensed MIT */
(function(){(function(e){e.fn.slideshow=function(i){var t,s;return s=e.extend({timeOut:4e3,elem:"ul.slides li",setNavi:!0},i),t=function(i){return this.me=e(i),this.init()},t.prototype={showSlide:function(){var e;e=this,this.timeIndex=setTimeout(function(){e.slideSwitch()},s.timeOut)},setNavi:function(i){var t,s,n;s=e("ul#slide_navi li"),t=s.filter(".active"),n=s.eq(i.index()),t.removeClass("active"),n.addClass("active")},slideSwitch:function(e){var i,t;if(this.me.find(s.elem).stop(!0,!0),i=this.me.find(""+s.elem+".active"),0===i.length&&(i=this.me.find(""+s.elem+":last")),void 0===e)t=i.next(s.elem).length?i.next(s.elem):this.me.find(""+s.elem+":first");else if(t=this.me.find(""+s.elem+":eq("+e+")"),i.index()===t.index())return!1;s.setNavi&&this.setNavi(t),i.addClass("last-active"),t.css({opacity:0}).addClass("active").animate({opacity:1},1e3,function(){return i.removeClass("active last-active")}),this.showSlide()},printNavi:function(i){e(this.me).append(i)},init:function(){var i,t,n,l,a;if(s.setNavi=s.setNavi&&this.me.find(s.elem).length>1,s.setNavi){for(a=this,t="",i=1,n=this.me.find(s.elem).length;n>=i;)t+="<li><a href='#'>"+i+"</a>",i++;t=e(t).click(function(i){clearTimeout(a.timeIndex),a.slideSwitch(e(this).index()),i.preventDefault()}),l=e("<ul id='slide_navi'></ul>"),l.html(t),a.printNavi(l),t.filter(":first").addClass("active")}this.me.find(s.elem).filter(":first").addClass("active"),this.me.find(s.elem).length>1&&this.showSlide()}},this.each(function(){new t(this)})}})(jQuery)}).call(this);